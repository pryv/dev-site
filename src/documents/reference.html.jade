---
name: 'reference'
---

doctype 5
html.no-js(lang='en')
  head
    meta(charset='UTF-8')
    title Pryv API reference
    meta(name='description', content='TODO')
    meta(name='viewport', content='width=device-width, initial-scale=1')
    link(rel='stylesheet', type='text/css', href='bootstrap.min.css')
    link(rel='stylesheet', type='text/css', href='github.css')
    link(rel='stylesheet', type='text/css', href='highlight.css')
    link(rel='stylesheet', type='text/css', href='style.css')
    script(src='scripts/modernizr.min.js')
    script(src='http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.js')
    script(src='scripts/jquery.toc.min.js')

    script
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-36589447-2']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

  body
    #main
      header#pageHeader
        a(href='index.html') Home
        //- TODO

      - var sections = getDatabase().findAll({doc: 'reference'}).setComparator({sectionOrder: 1}).toJSON()
      - var apiVersion = '0.4.20' // do not change this line without updating `update-api-version.bash`

      .version API version: <strong>#{apiVersion}</strong>


      #sections
        each section in sections
          section(id='#{section.sectionId}')!= section.contentRendered

    #toc
      //- content generated by TOC plugin (see below)

    //- TOC generation assumes that all headings are within a section, and that there is a single
    //- level 1 heading (h1) per section (the section title)
    script
      jQuery(document).ready(function($) {
        $('#toc').toc({
          'selectors': 'h1,h2',
          'container': '#sections',
          'smoothScrolling': false,
          'prefix': 'toc',
          'onHighlight': function(el) {},
          'highlightOnScroll': true,
          'highlightOffset': 100,
          'anchorName': function(i, heading, prefix) {
            var $heading = $(heading),
                sectionId = $heading.parents('section').attr('id');
            return sectionId + ($heading.is('h1') ? '' : '-' + slugify($heading.text()));
          },
          'headerText': function(i, heading, $heading) {
            return $heading.text();
          }
        });

        function slugify(text) {
          return text.toLowerCase().replace(/[^\w ]+/g,'').replace(/ +/g,'-');
        }
      });
